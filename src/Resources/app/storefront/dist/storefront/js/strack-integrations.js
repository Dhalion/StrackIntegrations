"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["strack-integrations"],{2017:(t,e,i)=>{var n=i(9068),r=i(6285),s=i(3206),o=i(8254),a=i(4690);class c extends r.Z{init(){this.quantityInput=s.Z.querySelector(this.el.parentNode,"[data-quantity-selector] input",!1),this.quantityInput&&(this.productId=this.el.getAttribute("data-product-id"),this.customerPriceEndpoint=this.el.getAttribute("data-customer-price-endpoint"),this.isComponent="1"===this.el.getAttribute("data-is-component"),this.buyWidgetPriceContainer=s.Z.querySelector(document,".product-detail-price-container"),this.client=new o.Z(window.accessKey,window.contextToken),this.registerEventListeners())}registerEventListeners(){this.quantityInput.addEventListener("change",this.onQuantityChange.bind(this))}onQuantityChange(){this.createLoadingIndicator(),this.client.post(this.customerPriceEndpoint,JSON.stringify({productId:this.productId,quantity:this.quantityInput.value,isComponent:this.isComponent}),(t=>{this.replaceCustomerPrice(t),this.removeLoadingIndicator()}))}replaceCustomerPrice(t){this.buyWidgetPriceContainer.innerHTML=t}createLoadingIndicator(){a.Z.create(this.el.parentNode)}removeLoadingIndicator(){a.Z.remove(this.el.parentNode)}}n.Z.register("QuantitySelectorCustomerPrice",c,"[data-quantity-selector-customer-price]")}},t=>{t.O(0,["vendor-node","vendor-shared"],(()=>{return e=2017,t(t.s=e);var e}));t.O()}]);